<ion-app>
  <!-- Menú lateral -->
  <ion-menu side="start" menuId="first" contentId="main-content">
    
    <ion-header>
      <ion-toolbar color="dark">
        <ion-title> Usuario: {{ nombreUsuario }} </ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <ion-list>
        <ion-item routerLink="/home" (click)="closeMenu()">
          <ion-icon slot="start" name="home"></ion-icon>
          <ion-label>Home</ion-label>
        </ion-item>

        <!-- Opción de Administrar Usuarios, solo visible para administradores -->
        <ion-item *ngIf="esAdmin" routerLink="/usuarios-admin" (click)="closeMenu()">
          <ion-icon slot="start" name="people"></ion-icon>
          <ion-label>Administrar Usuarios</ion-label>
        </ion-item>

        <!-- Submenú de Formularios -->
        <ion-item *ngIf="esFormulario" (click)="toggleSubMenuFormularios()">
          <ion-icon slot="start" name="folder"></ion-icon>
          <ion-label>Formularios de Mantenimiento</ion-label>
          <ion-icon [name]="mostrarSubMenuFormularios ? 'chevron-up' : 'chevron-down'" slot="end"></ion-icon>
        </ion-item>
        <ion-list *ngIf="mostrarSubMenuFormularios" class="sub-menu">
          <!-- Formularios -->
          <ion-item routerLink="/formulario-cpu" (click)="closeMenu()">
            <ion-icon slot="start" name="document-text"></ion-icon>
            <ion-label>CPU</ion-label>
          </ion-item>
        </ion-list>

        <ion-item (click)="logout()">
          <ion-icon slot="start" class="fa fa-power-off"></ion-icon>
          <ion-label>Salir</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>

  <!-- Contenido principal -->
  <ion-router-outlet id="main-content"></ion-router-outlet>
</ion-app>
